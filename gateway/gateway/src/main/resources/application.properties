spring.application.name=gateway

# ================================
# SERVER
# ================================
server.port=8080

# ================================
# SPRING CLOUD GATEWAY ROUTES
# ================================

spring.cloud.gateway.routes[0].id=groups-service
spring.cloud.gateway.routes[0].uri=http://group-service:8080
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/group/**
# ================================
# RewritePath para /actuator
# ================================
spring.cloud.gateway.routes[0].filters[0]=RewritePath=/api/group/actuator/(?<segment>.*), /actuator/${segment}

spring.cloud.gateway.routes[1].id=auth-service
spring.cloud.gateway.routes[1].uri=http://auth-service:8080
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/auth/**
# ================================
# RewritePath para /actuator
# ================================
spring.cloud.gateway.routes[1].filters[0]=RewritePath=/api/auth/actuator/(?<segment>.*), /actuator/${segment}

spring.cloud.gateway.routes[2].id=inventory-service
spring.cloud.gateway.routes[2].uri=http://inventory-service:8080
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/inventory/**
# ================================
# RewritePath para /actuator
# ================================
spring.cloud.gateway.routes[2].filters[0]=RewritePath=/api/inventory/actuator/(?<segment>.*), /actuator/${segment}

spring.cloud.gateway.routes[3].id=shoppinglist-service
spring.cloud.gateway.routes[3].uri=http://shoppinglist-service:8080
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/shoppinglist/**
# ================================
# RewritePath para /actuator
# ================================
spring.cloud.gateway.routes[3].filters[0]=RewritePath=/api/shoppinglist/actuator/(?<segment>.*), /actuator/${segment}

# ================================
# SPRING SECURITY - JWT (Resource Server)
# ================================
json.secret.token=${JWT_SECRET}
internal.secret.token=${INTERNAL_SECRET}
internal.jwt.expiration-ms=${INTERNAL_SECRET_DURATION}
internal.jwt.issuer=${INTERNAL_SECRET_ISSUER}